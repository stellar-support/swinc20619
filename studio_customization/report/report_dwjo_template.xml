<?xml version="1.0" encoding="utf-8"?>
<odoo>
<template id="report_dwjo_document">
    <t t-call="web.external_layout">
        <div class="page">
            <div class="oe_structure"/>

            <h2>
                <span>Suggested Reorder Report</span>
            </h2>

            <table class="table table-sm o_main_table">
                <t t-set="current_sale_6_mnths_subtotal" t-value="0"/>
                <t t-set="current_sale_2_mnths_subtotal" t-value="0"/>
                <t t-set="current_sale_last_mnths_subtotal" t-value="0"/>
                <t t-set="current_sale_2_weeks_subtotal" t-value="0"/>
                <t t-set="current_qty_hand_subtotal" t-value="0"/>
                <t t-set="current_qty_incoming_subtotal" t-value="0"/>
                <t t-set="current_qty_reserved_subtotal" t-value="0"/>
                <thead>
                    <tr>
                        <th name="th_description" class="text-left" style="width: 200px;">Description</th>
                        <th name="th_sold_6_mnths" class="text-right">Sold 6 mnths</th>
                        <th name="th_sold_2_mnths" class="text-right">Sold 2 mnths</th>
                        <th name="th_sold_last_mnths" class="text-right">Sold last mnths</th>
                        <th name="th_sold_2_weeks" class="text-right">Sold 2 weeks</th>
                        <th name="th_qty_hand" class="text-right">Qty hand</th>
                        <th name="th_qty_incoming" class="text-right">Qty incoming</th>
                        <th name="th_qty_reserved" class="text-right">Qty reserved</th>
                    </tr>
                </thead>
                <tbody class="sale_tbody">
                    <t t-foreach="docs" t-as="product">
                        <t t-set="current_sale_6_mnths_subtotal" t-value="current_sale_6_mnths_subtotal + product.sale_months_6"/>
                        <t t-set="current_sale_2_mnths_subtotal" t-value="current_sale_2_mnths_subtotal + product.sale_months_2"/>
                        <t t-set="current_sale_last_mnths_subtotal" t-value="current_sale_last_mnths_subtotal + product.sale_months_last"/>
                        <t t-set="current_sale_2_weeks_subtotal" t-value="current_sale_2_weeks_subtotal + product.sale_weeks_2"/>
                        <t t-set="current_qty_hand_subtotal" t-value="current_qty_hand_subtotal + product.qty_hand"/>
                        <t t-set="current_qty_incoming_subtotal" t-value="current_qty_incoming_subtotal + product.qty_order"/>
                        <t t-set="current_qty_reserved_subtotal" t-value="current_qty_reserved_subtotal + product.qty_reserved"/>

                        <tr>
                            <td name="td_name"><span t-field="product.name"/></td>
                            <td name="td_sold_6_mnths" class="text-right">
                                <span t-field="product.sale_months_6"/>
                            </td>
                            <td name="td_sold_2_mnths" class="text-right">
                                <span t-field="product.sale_months_2"/>
                            </td>
                            <td name="td_sold_last_mnths" class="text-right">
                                <span t-field="product.sale_months_last"/>
                            </td>
                            <td name="td_sold_2_weeks" class="text-right">
                                <span t-field="product.sale_weeks_2"/>
                            </td>
                            <td name="td_qty_hand" class="text-right">
                                <span t-field="product.qty_hand"/>
                            </td>
                            <td name="td_qty_incoming" class="text-right">
                                <span t-field="product.qty_order"/>
                            </td>
                            <td name="td_qty_reserved" class="text-right">
                                <span t-field="product.qty_reserved"/>
                            </td>
                        </tr>
                        <t t-if="product_last">
                            <tr class="border-black o_total">
                                <td style="width: 200px;"><strong>Total</strong></td>
                                <td class="text-right">
                                    <span t-esc="current_sale_6_mnths_subtotal"/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="current_sale_2_mnths_subtotal"/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="current_sale_last_mnths_subtotal"/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="current_sale_2_weeks_subtotal"/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="current_qty_hand_subtotal"/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="current_qty_incoming_subtotal"/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="current_qty_reserved_subtotal"/>
                                </td>
                            </tr>
                        </t>
                    </t>
                </tbody>
            </table>
        </div>
    </t>
</template>

<template id="report_dwjo">
    <t t-call="web.html_container">
        <t t-call="studio_customization.report_dwjo_document"/>
    </t>
</template>

</odoo>
